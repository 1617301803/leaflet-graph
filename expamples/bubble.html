<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bubble</title>
    <script src="leaflet-src.js"></script>
    <script src="../dist/leaflet-graph.js"></script>
    <link href="leaflet.css" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        button {
            position: absolute;
            top: 80px;
            left: 0;
            z-index: 1000;
        }
    </style>
</head>
<body>

<div id="map"></div>
<button onclick="pause()">暂停</button>
<button onclick="resume()" style="left: 30px;">继续</button>
<script>
    var map = L.map('map', {
        center: [51.505, -0.09],
        zoom: 2
    });
    var tileLayer = L.tileLayer('../Map/{z}/{x}/{y}.png',{
        tms:true
    });
    tileLayer.addTo(map);

    var bubbleLayer = L.bubbleLayer({
        repeat: true,
        duration: 1000,
    });
    bubbleLayer.addTo(map);

    function resume() {
        bubbleLayer._graph.resume();
    }

    function pause() {
        bubbleLayer._graph.pause();
    }

    var idIndex = 0;
    function getData() {
        var lon = Math.random() * 100;
        var lat = Math.random() * 100;

        return {
            //id: idIndex++,
            lon: lon,
            lat: lat,
            radius: 100,
            color: 'rgba(' + Math.random() * 255 + ',' + Math.random() * 255 + ',' + Math.random() * 255 + ',1)'
        }
    }

    var data = [];
    for (var i = 0; i < 10; i++) {
        data.push(getData())
    }

    bubbleLayer.data(data);
</script>

</body>
</html>